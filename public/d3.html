<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="./myCSS.css">
		<script type='text/javascript' src='http://d3js.org/d3.v2.js'></script>    	
		<title>
		</title>
	</head>
  	<body>
		<div id='chartSpace'  />
			<svg id='chart'>
		</body>
	<script>

		var clientCodeDebug = 'high' // need to actually pass its value from the server 
		var data;
	
		function loadCSV(fileName)
		{	
			d3.csv(fileName, function(data) 
			{
				if (data) 
					if (clientCodeDebug=='high')
						//show the data as a browsable browser console object
						console.dir(data);
					else;
				else 
					alert("failed loading data file" + fileName);
			});
		}
		
		function initialize()
		{
			// benign page load transitions
			var chartSpace = d3.select("#chartSpace")
			chartSpace.transition().style("margin-top", "10%").duration(1000).ease("cubic-in-out");				
			d3.select("body").transition()
				.style("background-color", "white")
				.duration(500).ease("linear");	
				
			// pull csv file from the server, asynchronously
			
			loadCSV("table1.csv"); 
			
			var chart = d3.select("#chart");
			//sanity checking d3 is working by drawing a meaningless black box
			//chart.append("svg:rect").attr("x", 100).attr("y", 100).attr("width", 100).attr("height", 100);
		}
		
		initialize();
		
	</script>
</html>
